# ================================
# Database Configuration (PostgreSQL)
# ================================
DATABASE_URL="postgresql://admin:password123@localhost:5432/chatapp?schema=public"

# Alternative: Using the dedicated app user (after init script runs)
# DATABASE_URL="mongodb://chatapp_user:chatapp_password@localhost:27017/chatapp?authSource=chatapp"

# ================================
# NextAuth.js Configuration
# ================================
# Generate a secure secret: openssl rand -base64 32
# On Windows PowerShell: [Convert]::ToBase64String((1..32 | ForEach-Object { Get-Random -Maximum 256 }) -as [byte[]])
NEXTAUTH_SECRET="oWEK+b09bpJIB5qzrxWgbe3T551jASW0Ube0WzKrBaU="

# The URL where your app is running
NEXTAUTH_URL="http://localhost:3000"

# ================================
# Socket.io Server Configuration
# ================================
# The URL where your Socket.io server is running
NEXT_PUBLIC_SOCKET_URL="http://localhost:3001"

# Port for the Socket.io server
SOCKET_PORT=3001

# ================================
# Redis Configuration (Optional - for Socket.IO horizontal scaling)
# ================================
# Redis URL for Socket.IO adapter (enables multi-server support)
# Format: redis://[password@]host:port
# If not set, Socket.IO will use in-memory adapter (single server only)
REDIS_URL="redis://:redis123@localhost:6379"
REDIS_PASSWORD=redis123
REDIS_PORT=6379
REDIS_HOST=localhost

# Alternative: Redis Cloud or external Redis
# REDIS_URL="redis://username:password@your-redis-host:6379"


# ================================
# SETUP INSTRUCTIONS
# ================================
# 1. Copy this file to .env.local:
#    cp env-example.txt .env.local  (Linux/Mac)
#    copy env-example.txt .env.local  (Windows)
#
# 2. Start MongoDB container:
#    docker-compose up -d
#
# 3. Generate Prisma client:
#    npx prisma generate
#
# 4. Push schema to database:
#    npx prisma db push
#
# 5. Start the app:
#    npm run dev:all
# ================================

NEXT_PUBLIC_VAPID_PUBLIC_KEY=BDagaqvePCafs0EmjDl0jG8lAMQaIB_gIdNdLIAUx9E7cfP8ZFBQ9l2tiydnnyxv9DpgYhq9btSCV0_lO2ie4So
VAPID_PRIVATE_KEY=Qg2JgKdayfY6KEm-hCjkgYc3kNBDPh2Nn6hXcffneT8
NEXT_PUBLIC_VAPID_SUBJECT=mailto:admin@example.com

# ================================
# Sentry Error Tracking (Optional)
# ================================
# Get your DSN from https://chatflow.sentry.io/settings/projects/javascript-nextjs/keys/
# Or use the DSN from the wizard-generated config files
NEXT_PUBLIC_SENTRY_DSN="https://dc96bfd04a798a0ae84a0c38d7d77e01@o4510472153268224.ingest.de.sentry.io/4510472158773328"
NEXT_PUBLIC_SENTRY_ENABLED="true"  # Set to "true" to enable Sentry (even in development)
SENTRY_SEND_PII="false"  # Set to "true" to send user PII (email, IP, etc.) - NOT recommended for privacy

# ================================
# Logger Configuration
# ================================
# Logger type: "file" (default, writes to app.log), "sentry", or "console"
# Default: "file" - writes structured JSON logs to app.log (similar to message-flow.log)
# Can also be configured in database config table (logger.type, logger.file.path)
LOGGER_TYPE="file"  # Options: "file", "sentry", "console"
LOG_FILE_PATH="app.log"  # Optional: Custom path for file logger (default: app.log in project root)