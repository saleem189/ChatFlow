# ================================
# Database Configuration (PostgreSQL)
# ================================
DATABASE_URL="postgresql://your-db-user:your-db-password@localhost:5432/synapse?schema=public"

# Alternative: Using the dedicated app user (after init script runs)
# DATABASE_URL="mongodb://your-db-user:your-db-password@localhost:27017/synapse?authSource=synapse"

# ================================
# NextAuth.js Configuration
# ================================
# Generate a secure secret: openssl rand -base64 32
# On Windows PowerShell: [Convert]::ToBase64String((1..32 | ForEach-Object { Get-Random -Maximum 256 }) -as [byte[]])
NEXTAUTH_SECRET="your-nextauth-secret-generate-a-random-string"

# The URL where your app is running
NEXTAUTH_URL="http://localhost:3000"

# ================================
# Socket.io Server Configuration
# ================================
# The URL where your Socket.io server is running
NEXT_PUBLIC_SOCKET_URL="http://localhost:3001"

# Port for the Socket.io server
SOCKET_PORT=3001

# ================================
# Redis Configuration (Optional - for Socket.IO horizontal scaling)
# ================================
# Redis URL for Socket.IO adapter (enables multi-server support)
# Format: redis://[password@]host:port
# If not set, Socket.IO will use in-memory adapter (single server only)
REDIS_URL="redis://:your-redis-password@localhost:6379"
REDIS_PASSWORD="your-redis-password"
REDIS_PORT=6379
REDIS_HOST=localhost

# Alternative: Redis Cloud or external Redis
# REDIS_URL="redis://username:password@your-redis-host:6379"


# ================================
# SETUP INSTRUCTIONS
# ================================
# 1. Copy this file to .env.local:
#    cp env-example.txt .env.local  (Linux/Mac)
#    copy env-example.txt .env.local  (Windows)
#
# 2. Start MongoDB container:
#    docker-compose up -d
#
# 3. Generate Prisma client:
#    npx prisma generate
#
# 4. Push schema to database:
#    npx prisma db push
#
# 5. Start the app:
#    npm run dev:all
# ================================

# ================================
# Web Push Notifications (VAPID Keys)
# ================================
# Generate VAPID keys: npx web-push generate-vapid-keys
# Or use: https://vapidkeys.com/
NEXT_PUBLIC_VAPID_PUBLIC_KEY="your-vapid-public-key-here"
VAPID_PRIVATE_KEY="your-vapid-private-key-here"
NEXT_PUBLIC_VAPID_SUBJECT="mailto:your-email@example.com"

# ================================
# Sentry Error Tracking (Optional)
# ================================
# Get your DSN from https://sentry.io/settings/projects/your-project/keys/
# Sign up at https://sentry.io and create a Next.js project to get your DSN
NEXT_PUBLIC_SENTRY_DSN="your-sentry-dsn-here"
NEXT_PUBLIC_SENTRY_ENABLED="false"  # Set to "true" to enable Sentry
SENTRY_SEND_PII="false"  # Set to "true" to send user PII (email, IP, etc.) - NOT recommended for privacy

# ================================
# Logger Configuration
# ================================
# Logger type: "file" (default, writes to app.log), "sentry", or "console"
# Default: "file" - writes structured JSON logs to app.log (similar to message-flow.log)
# Can also be configured in database config table (logger.type, logger.file.path)
LOGGER_TYPE="file"  # Options: "file", "sentry", "console"
LOG_FILE_PATH="app.log"  # Optional: Custom path for file logger (default: app.log in project root)